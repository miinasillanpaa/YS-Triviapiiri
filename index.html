<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="ie6"> <![endif]--> <!--[if IE 7 ]>    <html lang="en" class="ie7"> <![endif]--> <!--[if IE 8 ]>    <html lang="en" class="ie8"> <![endif]--> <!--[if IE 9 ]>    <html lang="en" class="ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title></title>
  <meta name="description" content="">
  <meta name="author" content="">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!--script src="http://debug.phonegap.com/target/target-script-min.js#asd"></script-->
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link href="css/bootstrap.css" media="screen" rel="stylesheet" type="text/css" />
  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

    <script type="text/x-handlebars" data-template-name="selectGameView">
		<div class="intro">
			<span>
			Kuulet kohta kappaleen joka pysähtyy välillä ja pyytää sinua valitsemaan oikeat sanat joilla kappale jatkuu. Oikeista vastauksista saat pisteitä. Peli loppuu ku kappale on soitettu.
			</span>
		</div>
		<h2>Valitse soitettava kappale</h2>
		<div class="wrapper">
        {{#collection view.selectGameCollectionView }}
			<div class="cover" {{bindAttr style="view.bgStyle"}}>
            	<span>{{view.content.name}}</span>
			</div>
        {{/collection}}
		</div>
    </script>

	<script type="text/x-handlebars" data-template-name="game">
		{{outlet}}
	</script>
  	<script type="text/x-handlebars" data-template-name="game-not-started">
 		<h2>kohta musaa</h2>
 		<button class="btn btn-success"{{action startGame1P}}>Pelaan yksin</button>
		<button class="btn"{{action startGame2P}}>Pelaan parin kanssa</button>
 	</script>

  <script type="text/x-handlebars" data-template-name="game-not-started-plain">
		<h2>kohta tehtävä</h2>
	  <button class="btn btn-success"{{action startGame1P}}>Pelaan yksin</button>
		<button class="btn"{{action startGame2P}}>Pelaan parin kanssa</button>
  </script>


  	<script type="text/x-handlebars" data-template-name="game-started">
		  {{outlet left class="left"}} {{outlet right class="right"}}
	</script>
  <script type="text/x-handlebars" data-template-name="plain-question">
	{{outlet question}}
	{{outlet media}}
  </script>
  <script type="text/x-handlebars" data-template-name="plain-question-label">
	  {{content.questionText}}
	  <div class="question-indicator">
		  {{#if Trivia.router.gameController.questions}}
		  	<span class="question-number">{{view.questionNumber}}</span><span class="slash">/</span><span></span>

		  {{/if}}
	  </div>
  </script>
 	 <script type="text/x-handlebars" data-template-name="media-question">
		{{outlet controls}}
		{{outlet media}}
	</script>

  <script type="text/x-handlebars" data-template-name="media-controls">
	<div class="media-controls">
		<h2>{{Trivia.router.gameController.title}}</h2>
		{{view Trivia.ProgressbarView valueBinding="Trivia.router.gameController.mediaPosition" markerPositionsBinding="Trivia.router.gameController.markerPositions" activeBinding="Trivia.router.gameController.mediaPlaying"}}
		{{outlet mediaIndicator}}
	</div>
  </script>

  <script type="text/x-handlebars" data-template-name="answers">
  	  {{outlet alert class="alert-outlet"}}
	  {{outlet choices class="choices-outlet"}}
	  {{outlet action class="action-outlet"}}
  	</script>
  <script type="text/x-handlebars" data-template-name="choices">
	  {{#collection view.collectionView content=content}}
	  	{{view.content.answerText}}
	  {{/collection}}
  </script>
  <script type="text/x-handlebars" data-template-name="alert-question">
	  {{content.questionText}}
	  <button class="btn" {{action instantReplay}}>Kuuntele uudestaan</button>
  </script>
  <script type="text/x-handlebars" data-template-name="alert-plain-question">
	  {{content.questionText}}
  </script>

  <script type="text/x-handlebars" data-template-name="alert-correct">
	  Oikein!
  </script>
  <script type="text/x-handlebars" data-template-name="alert-wrong">
	  Väärin!
  </script>
  <script type="text/x-handlebars" data-template-name="alert-countdown">

	  <h2>{{Trivia.router.gameController.secondsToStop}}</h2>
	  <span>
		{{view.content}}
      </span>
  </script>

	<script type="text/x-handlebars" data-template-name="game-halves">
		{{outlet left}} {{outlet right}}
	</script>

  <script type="text/x-handlebars" data-template-name="game-finished">
	  <div class="feedback-text">{{view.feedbackText}}</div>
	  <div class="success-rate">oikeita vastauksia {{view.successRate}}%</div>

	  <button class="btn" {{action playSongEnd}}>Kuuntele kappale loppuun</button>
	  <button class="btn" {{action fullReplay}}>Kuuntele koko kappale alusta</button>
	  <button class="btn btn-success" {{action back}}>Palaa päävalikkoon</button>


  	</script>
  <script type="text/x-handlebars" data-template-name="game-finished-plain">
	  <div class="feedback-text">{{view.feedbackText}}</div>
	  <div class="success-rate">oikeita vastauksia {{view.successRate}}%</div>

	  	<button class="btn" {{action back}}>Palaa päävalikkoon</button>
	  	<!--button class="btn" {{action fullReplay}}>Kuuntele koko kappale alusta</button-->

  	</script>

	<script type="text/x-handlebars" data-template-name="game-loading">
		<h1>Ladataan</h1>
		{{view Trivia.ProgressbarView valueBinding="Trivia.router.gameController.mediaLoadProgress"  active=true}}
	</script>
	<script type="text/x-handlebars" data-template-name="game-in-progress">

		<div class="qa-section">
			<div class="question-container">


						{{#view view.questionView classNames="question-view"}}

							{{#view view.controlsView}}

								<div class="game-name"><span>{{ title }}</span></div>

								{{view Trivia.ProgressbarView valueBinding="Trivia.router.gameController.mediaPosition" markerPositionsBinding="Trivia.router.gameController.markerPositions" activeBinding="Trivia.router.gameController.mediaPlaying"}}


								<div class="playing-indicator">
									<span {{bindAttr class="view.playClass"}}>

									{{#if Trivia.router.gameController.mediaPlaying }}
										Musiikki soi
									{{else}}
										Pysäytetty
									{{/if}}
									</span>
								</div>

							{{/view}}

							{{view view.mediaDisplayView contentBinding="Trivia.gameController.game.image"}}

						{{/view}}

			</div>

		<div class="answers-container">
			{{#view view.gameStartInstructions}}
				<div class="intro">
					<span>
						Kuulet kohta kappaleen joka pysähtyy välillä ja pyytää sinua valitsemaan oikeat sanat joilla kappale jatkuu. Oikeista vastauksista saat pisteitä. Peli loppuu kun kappale on soitettu.
					</span>
				</div>
				<div class="dividerr">
					<span>Aloita peli:</span>
				</div>
				<div class="buttons">
					<button class="btn btn-primary" {{action start}}>Pelaan yksin</button>
					<button class="btn" {{action start2P}}>Pelaan jonkun muun kanssa</button>
				</div>
			{{/view}}

			{{#view view.gameFinished}}
				<div class="feedback-text">{{view.feedbackText}}</div>
				<div class="success-rate">oikeita vastauksia {{view.successRate}}%</div>

				<button class="btn btn-primary" {{action back}}>Pelaa uudestaan</button>
			{{/view}}


			{{#view view.instructionContainer}}

				{{#view view.countdownView}}
				<h2>{{Trivia.router.gameController.secondsToStop}}</h2>
					<span>
					{{view.content}}
					</span>
				{{/view}}

				{{#view view.messageView}}
					<span>
					{{view.content}}
					</span>
				{{/view}}

				{{#view view.instructionView}}
					<span>
					{{view.content}}
					</span>

					<button class="btn" {{action replay}}>Kuuntele uudestaan</button>
				{{/view}}

				{{#view view.correctAnswerView}}
					<span>
					{{view.content}}
					</span>
				{{/view}}

				{{#view view.wrongAnswerView}}
					<span>
					{{view.content}}
					</span>
				{{/view}}

				{{#view view.gameEndView}}
					<span>
					{{view.content}}
					</span>
					<button>Pelaa uudestaan</button>
				{{/view}}

			{{/view}}


			<div class="collection-wrapper">
				{{#collection view.answersView}}
					{{view.content.answerText}}
				{{/collection}}


				<button class="btn btn-primary next-question" {{action nextQuestion}}><span>Soita seuraava katkelma</span></button>
			</div>



		</div>

		</div>

	</script>
	<script type="text/x-handlebars" data-template-name="games">
		<h2>Valitse soitettava kappale</h2>
		<div class="wrapper">
        {{#collection view.selectGameCollectionView }}
			<div class="cover" {{bindAttr style="view.bgStyle"}}>
			<a href="#/games/{{unbound view.content.guid}}">
            	<span>{{view.content.name}}</span>
				</a>
			</div>
        {{/collection}}
		</div>

		{{outlet}}
 	</script>

	<script type="text/x-handlebars" data-template-name="game1">
		<h2>game 1!!</h2>
		{{outlet}}
 	</script>

    <script type="text/x-handlebars" data-template-name="gameCompleted">
        <h2 style="">Peli päättyi!</h2>
        <h3 style=""><span>Pisteesi {{Trivia.gameController.score}}</span></h3>
    </script>

	<script type="text/x-handlebars" data-template-name="progressbarView">

		<div class="progress progress-striped {{bindAttr class="active"}}">
			<div class="bar" style="width: 0%;"></div>
		</div>
		<div class="markers"></div>

	</script>

</head>
<body>
<script type="text/x-handlebars" data-template-name="application">
	<section class="app">
		<section class="menubar">
			<button class="btn back" {{action back}}">
				<span>Takaisin</span>
			</button>
			<section class="spacer"><span>Sanat sekaisin</span></section>
			<section class="score"></span>
			</section>
		</section>

		<section class="workspace">
			{{outlet}}
		</section>

	</section>
  </script>

  <script src="js/libs/soundmanager2.js" type="text/javascript"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script src="js/libs/handlebars-1.0.0.beta.6.js"></script>


	<script src="js/libs/ember-1.0.pre.js"></script>
  <script src="js/app.js"></script>

  <script type="text/javascript">
      soundManager.url = 'js/libs/';
	  soundManager.preferFlash = false;
	  soundManager.useHTML5Audio = true;
	  soundManager.debugMode = false;
	  soundManager.consoleOnly = true;
	  soundManager.html5PollingInterval = 50;
	  /*
	  soundManager.audioFormats = {
		  'mp3': {
		     'type': ['audio/mpeg; codecs="mp3"', 'audio/mpeg', 'audio/mp3', 'audio/MPA', 'audio/mpa-robust'],
		     'required': false
		   }
	  }

	  */
  </script>
</body>
</html>