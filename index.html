<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="ie6"> <![endif]--> <!--[if IE 7 ]>    <html lang="en" class="ie7"> <![endif]--> <!--[if IE 8 ]>    <html lang="en" class="ie8"> <![endif]--> <!--[if IE 9 ]>    <html lang="en" class="ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title></title>
  <meta name="description" content="">
  <meta name="author" content="">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">

  <link href="css/bootstrap.css" media="screen" rel="stylesheet" type="text/css" />


  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

    <script type="text/x-handlebars" data-template-name="selectGameView">
		<h2>Valitse peli:</h2>
        {{#collection selectGameCollectionView }}
            <span>{{content.name}}</span>
        {{/collection}}
    </script>

	<script type="text/x-handlebars" data-template-name="game">

		<div class="qa-section">
			<div class="question-container">


						{{#view questionView classNames="question-view"}}

							{{#view controlsView}}

								<div class="game-name"><span>{{ Trivia.gameController.game.name }}</span></div>

								{{view Trivia.ProgressbarView valueBinding="Trivia.gameController.position" markerPositionsBinding="Trivia.gameController.markerPositions" activeBinding="Trivia.gameController.mediaPlaying"}}


								<div class="playing-indicator" {{bindAttr class="Trivia.gameController.mediaPlaying:media-playing"}}>
									<span>
									{{#if Trivia.gameController.mediaPlaying }}
										Musiikki soi
									{{else}}
										Pysäytetty
									{{/if}}
									</span>
								</div>


							{{/view}}


							{{#view mediaDisplayView}}

							{{/view}}

						{{/view}}

			            {{!#view mediaView isVisibleBinding="Trivia.gameController.showMediaView" classNames="btn media-view"}}
			                {{!Trivia.gameController.playLabel}}
			            {{!/view}}
			</div>

		<div class="answers-container">
			{{#view countdownView}}
			{{/view}}
			<div class="collection-wrapper">
				{{#collection answersView isVisibleBinding="Trivia.gameController.showAnswers"}}
					{{content.answerText}}
				{{/collection}}
			</div>

		</div>

		</div>

	</script>

    <script type="text/x-handlebars" data-template-name="gameCompleted">
        <h2 style="">Peli päättyi!</h2>
        <h3 style=""><span>Pisteesi {{Trivia.gameController.score}}</span></h3>
    </script>

	<script type="text/x-handlebars" data-template-name="progressbarView">

		<div class="progress progress-striped {{bindAttr class="active"}}">
			<div class="bar" style="width: 0%;"></div>
		</div>
		<div class="markers"></div>

	</script>

</head>
<body>

	<script type="text/x-handlebars">

	<section class="app">
		<section class="menubar">
			<button class="btn back" {{action back}}>Takaisin</button>
			<section class="spacer"><span>{{Trivia.gameController.gameName}}</span></section>
			<section class="score">Pisteet: <span class="badge badge-warning">{{Trivia.gameController.score}}</span></section>
		</section>

		<section class="workspace">
		{{view Trivia.SelectGameView isVisibleBinding="Trivia.gameController.showGameSelector" classNames="select-game-view"}}
		{{view Trivia.GameView isVisibleBinding="Trivia.gameController.game" classNames="game-view"}}
   		{{view Trivia.GameCompletedView isVisibleBinding="Trivia.gameController.gameCompleted"}}
		</section>

	</section>

  </script>
  <script src="js/libs/soundmanager2-nodebug-jsmin.js" type="text/javascript"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script src="js/libs/ember-0.9.8.1.js"></script>
  <script src="js/app.js"></script>

  <script>
      soundManager.url = 'js/libs/';
  </script>
</body>
</html>
